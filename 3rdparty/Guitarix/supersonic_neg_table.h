
// supersonic_neg_table generated by DK/circ_table_gen.py -- do not modify manually

 // variables used
 // --sig_max  -1.400000
 // --table_div  4.767644
 // --table_op  1.000000

struct tablesupersonic_neg { // 1-dimensional function table
    float low;
    float high;
    float istep;
    int size;
    float data[];
};

template <int tab_size>
struct tablesupersonic_neg_imp {
    float low;
    float high;
    float istep;
    int size;
    float data[tab_size];
    operator tablesupersonic_neg&() const { return *(tablesupersonic_neg*)this; }
};

 static tablesupersonic_neg_imp<200> supersonic_neg_table __rt_data = {
	0,-0.46676,142.143,200, {
	0.000000000000,-0.006466600253,-0.012858793984,-0.019177391420,-0.025423170968,
	-0.031596925368,-0.037699416021,-0.043731418571,-0.049693677747,-0.055586952513,
	-0.061411971300,-0.067169476659,-0.072860181120,-0.078484811240,-0.084044063867,
	-0.089538649930,-0.094969250967,-0.100336562499,-0.105641251136,-0.110883997398,
	-0.116065453087,-0.121186284008,-0.126247127633,-0.131248635258,-0.136191430289,
	-0.141076149823,-0.145903403440,-0.150673814302,-0.155387978541,-0.160046505651,
	-0.164649978405,-0.169198992967,-0.173694119124,-0.178135939939,-0.182525012383,
	-0.186861906700,-0.191147167268,-0.195381351797,-0.199564992373,-0.203698634336,
	-0.207782797942,-0.211818016016,-0.215804797014,-0.219743662217,-0.223635108340,
	-0.227479645010,-0.231277757596,-0.235029944294,-0.238736679350,-0.242398449756,
	-0.246015718852,-0.249588962648,-0.253118633796,-0.256605197539,-0.260049096057,
	-0.263450784038,-0.266810693400,-0.270129268490,-0.273406931170,-0.276644115653,
	-0.279841233950,-0.282998710349,-0.286116947209,-0.289196359093,-0.292237338912,
	-0.295240291702,-0.298205601121,-0.301133662876,-0.304024851568,-0.306879553768,
	-0.309698135211,-0.312480973525,-0.315228425765,-0.317940860809,-0.320618627219,
	-0.323262085306,-0.325871575324,-0.328447449202,-0.330990039069,-0.333499688654,
	-0.335976722136,-0.338421475227,-0.340834264334,-0.343215417323,-0.345565243008,
	-0.347884061586,-0.350172174444,-0.352429894283,-0.354657515237,-0.356855342678,
	-0.359023663652,-0.361162776374,-0.363272960963,-0.365354508642,-0.367407692769,
	-0.369432797736,-0.371430090299,-0.373399848178,-0.375342331686,-0.377257812031,
	-0.379146543238,-0.381008790156,-0.382844800676,-0.384654833442,-0.386439130360,
	-0.388197944024,-0.389931510499,-0.391640076477,-0.393323872334,-0.394983139001,
	-0.396618101309,-0.398228994574,-0.399816038221,-0.401379462096,-0.402919480355,
	-0.404436317511,-0.405930182592,-0.407401294915,-0.408849858511,-0.410276087637,
	-0.411680181460,-0.413062349308,-0.414422785617,-0.415761694916,-0.417079267033,
	-0.418375701828,-0.419651184650,-0.420905910813,-0.422140061309,-0.423353827030,
	-0.424547384734,-0.425720921011,-0.426874608502,-0.428008629617,-0.429123152996,
	-0.430218356984,-0.431294406335,-0.432351475443,-0.433389725290,-0.434409326432,
	-0.435410436186,-0.436393221381,-0.437357835779,-0.438304442588,-0.439233192122,
	-0.440144244074,-0.441037745411,-0.441913852419,-0.442772708818,-0.443614467586,
	-0.444439269298,-0.445247263723,-0.446038588388,-0.446813389953,-0.447571802991,
	-0.448313971144,-0.449040026129,-0.449750108665,-0.450444347699,-0.451122881121,
	-0.451785835199,-0.452433345080,-0.453065534440,-0.453682535773,-0.454284470248,
	-0.454871467789,-0.455443647142,-0.456001135745,-0.456544050003,-0.457072514947,
	-0.457586644720,-0.458086562028,-0.458572378828,-0.459044215579,-0.459502182125,
	-0.459946396754,-0.460376967274,-0.460794009872,-0.461197630391,-0.461587942991,
	-0.461965051617,-0.462329068473,-0.462680095675,-0.463018243536,-0.463343612409,
	-0.463656310783,-0.463956437312,-0.464244098724,-0.464519392037,-0.464782422278,
	-0.465033284889,-0.465272083258,-0.465498911308,-0.465713870846,-0.465917054333,
	-0.466108562050,-0.466288485050,-0.466456922145,-0.466613963030,-0.466759705100
	}
};
 
GUITARIX_EXPORT
double always_inline supersonic_negclip(double x) {
    double f = fabs(x);
    f = f * supersonic_neg_table.istep;
    int i = static_cast<int>(f);
    if (i < 0) {
        f = supersonic_neg_table.data[0];
    } else if (i >= supersonic_neg_table.size-1) {
        f = supersonic_neg_table.data[supersonic_neg_table.size-1];
    } else {
    f -= i;
    f = supersonic_neg_table.data[i]*(1-f) + supersonic_neg_table.data[i+1]*f;
    }
    return copysign(f, x);
}

